<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Review</title>
    <style>
        #gTitle{
            background-color: darkcyan;
            color: white;
            padding: 20px;
            font-size: 40px;
            font-weight: bold;
        }

        #author {
            font-style: italic;
            font-weight: bold;
            margin-top: 5px;
        }
    
        .heading {
            font-size: large;
            font-weight: bold;
            padding-left: 15px;
        }

        h3 {
            color: darkcyan;
            font-weight: bold;
            font-size: 20px
        }


        body {
            background: antiquewhite;
            padding: 1% 10% 1%;
        }

        #form {
            background-color: white;
            padding: 20px
        }

        #like {
            background-color: darkcyan;
            color: white;
        }
        #avg{
            font-size:30px;
        }

#lBanner {
    position: absolute;
    left: 0;
    width: 10%; 
}

#rBanner {
    position: absolute;
    right: 0;
    width: 10%; 
}
#lBanner img {
    width: 100%; 
}

#rBanner img {
    width: 100%; 
}

        
        
    </style>
    <script>
       window.addEventListener("DOMContentLoaded", ()=>{
        const gRev = document.getElementById("review")
        const searchParams = new URLSearchParams(window.location.search);
        if (searchParams.get("title") != null)
        {
        // importing all the url stuff 
            localStorage.gTitle = searchParams.get("title");
            localStorage.author = searchParams.get("author");
            localStorage.like = searchParams.get("like");
            localStorage.posComments = searchParams.get("posComments");
            localStorage.negComments = searchParams.get("negComments");
        
        //multiplayer/player count
            localStorage.multiplayer = searchParams.get("multiplayer");
            if(localStorage.multiplayer == "yes")
            {
              localStorage.playerCount = searchParams.get("playerCount");
            }

            localStorage.platform = searchParams.getAll('platform')
            localStorage.platform = localStorage.platform.split(",").join(', ');
            
           
            
        // category ratings
            localStorage.story = searchParams.get("story");
            localStorage.graphics = searchParams.get("graphics");
            localStorage.gameplay = searchParams.get("gameplay");
            localStorage.sound = searchParams.get("sound");
            localStorage.xfactor = searchParams.get("xfactor");

            localStorage.Rdate = searchParams.get("rDate");
        }
        //setting title
        document.title = localStorage.gTitle + " Review"
        //header
        document.getElementById("gTitle").textContent = localStorage.gTitle + " Game Review";
        document.getElementById("author").textContent ="By: " + localStorage.author;
        document.getElementById("date").textContent = localStorage.Rdate;

        //gameinfo
            document.getElementById("platform").textContent = localStorage.platform;
        
        
        if (localStorage.multiplayer = "yes"){
          document.getElementById("multiplayer").textContent = "Multiplayer: Yes";
          document.getElementById("playerCount").textContent = "Players: 1-"+localStorage.playerCount;
        }
        else{
            document.getElementById("multiplayer").textContent = "Multiplayer: No" 
        }
        

        //long form comments
        document.getElementById("posComments").textContent = localStorage.posComments;
        document.getElementById("negComments").textContent = localStorage.negComments;

        //ratings
        document.getElementById("story").textContent = localStorage.story + "/5";
        document.getElementById("graphics").textContent = localStorage.graphics + "/5";
        document.getElementById("gameplay").textContent = localStorage.gameplay + "/5";
        document.getElementById("sound").textContent = localStorage.sound + "/5";
        document.getElementById("xfactor").textContent = localStorage.xfactor + "/5";
        document.getElementById("avg").textContent = "Average Score: "+((parseInt(localStorage.story) + parseInt(localStorage.graphics) + parseInt(localStorage.gameplay) + parseInt(localStorage.sound) + parseInt(localStorage.xfactor))/5) +"/5";
        //conclusion        
        if (localStorage.like == "yes"){
            document.getElementById("like").textContent = "In conclusion, I would recommend " + localStorage.gTitle;
        }
        else{
            document.getElementById("like").textContent = "In conclusion, I would not recommend " + localStorage.gTitle;
        }  

               
        })
    </script>
</head>
<body>
    <div id="form">
        <div id="gTitle"></div>
        <div id="author"></div><div id="date"></div><br>
        <div id ="lBanner"><a href="/PowerClicker.html"><img src="assets\Banner.png"></a></div>
        <div id ="rBanner"><a href="/PowerClicker.html"><img src="assets\Banner.png"></a></div>
        <h3>Game Info</h3>
            
            <div class="heading" id="platform"></div>
            <div class="heading" id="multiplayer"></div>
            <div class="heading" id="playerCount"></div>
        
        <h3>Things I liked</h3>
            <div class="heading" id="posComments"></div>
        
        <h3>Things I disliked</h3>
            <div class="heading" id="negComments"></div>
    <h3>Categorical Rating:</h3><div class="heading" id="category">
        Story:     <span id="story"></span><br>
        Graphics:  <span id="graphics"></span><br>
        Gameplay:  <span id="gameplay"></span><br>
        Sound:     <span id="sound"></span><br>
        X-Factor:  <span id="xfactor"></span><br>
        <span id="avg"></span></div>
    <br>
        <div id="like"></div>
    </div>
</body>
</html>